<!-- Do not edit. Auto-generated by Kask v0.4.0 -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><code>bindings</code> - Gohandlers</title>

    
    <link rel="stylesheet" href="/styles.propagate.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_blank">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/.">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>articles</span>
  
  
  <li>

<ul>
  
  <span>getting-started</span>
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Go—Effortlessly!</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>using-gohandlers</span>
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">Understanding Binding Structs and Tags in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">Understanding Validation &amp; Custom Types in gohandlers</a>
  
  
</ul>

</li>
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>reference</span>
  
  
  <li>

<ul>
  
  <span>advanced</span>
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">Managing Complex APIs: Advanced Tag Usage in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">Error Handling &amp; Customization Patterns in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">Testing Your API with Generated Mock Clients in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">Generating Typed HTTP Clients with gohandlers</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>commands</span>
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html"><code>bindings</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html"><code>client</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html"><code>list</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html"><code>mock</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html"><code>validate</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html"><code>yaml</code></a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>core-concepts</span>
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">Metadata-Driven Routing &amp; Automatic Handler Registration</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">Core Concepts: Overview</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>internals</span>
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">Internals: Overview</a>
  
  
</ul>

</li>
</ul>

</li>
</ul>

</li>
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#bindings" class="toc1"><code>bindings</code></a>
                  
                  <ul>
                    
                    <li>
                      <a href="#what-it-solves" class="toc2">What it solves?</a>
                      
                    </li>
                    <li>
                      <a href="#usage" class="toc2">Usage</a>
                      
                    </li>
                    <li>
                      <a href="#example" class="toc2">Example</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <h1 id="bindings"><code>bindings</code></h1>

<p>Generates a Go file (default <code>bindings.gh.go</code>) containing <code>Build</code>, <code>Parse</code> and <code>Write</code> methods for each “binding” struct in your code. <strong>Binding structs</strong> are simply your request and response types for handlers that contains route, query, form or json values as fields.</p>

<ul>
<li><p><strong><code>Parse</code> Methods:</strong> For each request binding (suffix <code>Request</code>) and response binding (suffix <code>Response</code>), a method is generated to populate that struct from an <code>*http.Request</code> or <code>*http.Response</code>. This reads URL path parameters, query parameters, form data, or JSON bodies as needed, and converts them to the correct types:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">req</span> <span class="o">*</span><span class="nx">XRequest</span><span class="p">)</span> <span class="nf">Parse</span><span class="p">(</span><span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="kt">error</span>    <span class="c1">// populates XRequest from HTTP request
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">res</span> <span class="o">*</span><span class="nx">XResponse</span><span class="p">)</span> <span class="nf">Parse</span><span class="p">(</span><span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">)</span> <span class="kt">error</span>  <span class="c1">// populates XResponse from HTTP response
</span></span></span></code></pre>
<p><em>Example:</em> If <code>XRequest</code> has a field tagged <code>route:&quot;id&quot;</code>, the generated <code>Parse</code> will extract <code>id</code> from the URL path. Fields tagged <code>query:&quot;q&quot;</code> come from <code>r.URL.Query()</code>, and <code>json:&quot;field&quot;</code> from the JSON body, etc.. This ensures each part of the request (route, query, form, JSON) is handled appropriately, and errors (like missing or invalid values) are propagated.</p></li>

<li><p><strong><code>Build</code> / <code>Write</code> Methods:</strong> For request bindings, <code>Build</code> creates an <code>*http.Request</code> ready to send (with method, URL, query params, JSON body, etc.). For response bindings, <code>Write</code> writes the data to an <code>http.ResponseWriter</code> (sets headers like Content-Type, writes the body):</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">req</span> <span class="nx">XRequest</span><span class="p">)</span> <span class="nf">Build</span><span class="p">(</span><span class="nx">host</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">res</span> <span class="nx">XResponse</span><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre>
<p>When calling <code>Build</code>, you provide a <code>host</code> (because Go’s <code>http.NewRequest</code> needs a URL). The returned request is ready to be sent (with all fields serialized properly). Similarly, <code>Write</code> on a response binding will serialize that struct (as JSON, form data, etc.) and write to the HTTP response in a handler context.</p></li>
</ul>

<h2 id="what-it-solves">What it solves?</h2>

<p>Writing request parsing and response writing logic for each handler can be tedious and error-prone. Tags in your struct (like <code>route:&quot;id&quot;</code> or <code>json:&quot;name&quot;</code>) guide gohandlers to generate this logic, so you don’t have to write the same code repeatedly. This also ensures that if your types change (e.g., you add a new query param), the parsing/building logic updates on regeneration.</p>

<h2 id="usage">Usage</h2>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="c1"># gohandlers bindings --help</span>
</span></span><span class="line"><span class="cl">Usage of bindings:
</span></span><span class="line"><span class="cl">  -dir string
</span></span><span class="line"><span class="cl">        the <span class="nb">source</span> directory contains Go files
</span></span><span class="line"><span class="cl">  -out string
</span></span><span class="line"><span class="cl">        the output file that will be created in -dir <span class="o">(</span>default <span class="s2">&#34;bindings.gh.go&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  -recv string
</span></span><span class="line"><span class="cl">        only use request types that is prefixed with handlers defined on this <span class="nb">type</span>
</span></span><span class="line"><span class="cl">  -v    prints additional information
</span></span></code></pre>
<h2 id="example">Example</h2>

<p>Suppose we have a handler and types in <a href="https://github.com/ufukty/gohandlers-petstore/handlers/pets/create.go" target="_blank">handlers/pets/create.go</a>:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="nx">types</span><span class="p">.</span><span class="nx">PetName</span> <span class="s">`json:&#34;name&#34;`</span> <span class="c1">// from JSON body
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Tag</span>  <span class="nx">types</span><span class="p">.</span><span class="nx">PetTag</span>  <span class="s">`json:&#34;tag&#34;`</span>  <span class="c1">// from JSON body
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetResponse</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span> <span class="kt">string</span> <span class="s">`json:&#34;id&#34;`</span> <span class="c1">// to JSON body of response
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// CreatePet is an HTTP handler
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Pets</span><span class="p">)</span> <span class="nf">CreatePet</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">CreatePetRequest</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="nx">_</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">CreatePetResponse</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="c1">// Handler logic...
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre>
<p>Run gohandlers for bindings in the <a href="https://github.com/ufukty/gohandlers-petstore/tree/main/handlers/pets" target="_blank"><code>handlers/pets</code></a> directory:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">gohandlers bindings -dir handlers/pets -out bindings.gh.go
</span></span></code></pre>
<p>This generates <a href="https://github.com/ufukty/gohandlers-petstore/blob/main/handlers/pets/bindings.gh.go" target="_blank"><strong><code>handlers/pets/bindings.gh.go</code></strong></a> with those:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">bq</span> <span class="nx">GetPetRequest</span><span class="p">)</span> <span class="nf">Build</span><span class="p">(</span><span class="nx">host</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">bq</span> <span class="o">*</span><span class="nx">GetPetRequest</span><span class="p">)</span> <span class="nf">Parse</span><span class="p">(</span><span class="nx">rq</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">bs</span> <span class="nx">GetPetResponse</span><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">)</span> <span class="kt">error</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">bs</span> <span class="o">*</span><span class="nx">GetPetResponse</span><span class="p">)</span> <span class="nf">Parse</span><span class="p">(</span><span class="nx">rs</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">)</span> <span class="kt">error</span>
</span></span></code></pre>
<p>Now your handler <code>CreatePet</code> can use <code>bq.Parse(r)</code> to <a href="https://github.com/ufukty/gohandlers-petstore/blob/280eff72d24d32f5d61b32361653de906cd639bd/handlers/pets/create.go#L21" target="_blank">parse inputs</a>, and <code>bs.Write(w)</code> to <a href="https://github.com/ufukty/gohandlers-petstore/blob/280eff72d24d32f5d61b32361653de906cd639bd/handlers/pets/create.go#L32" target="_blank">write outputs</a>, with all the heavy lifting done by gohandlers-generated code. For client-side, a <code>CreatePetRequest.Build()</code> will help <a href="https://github.com/ufukty/gohandlers-petstore/blob/280eff72d24d32f5d61b32361653de906cd639bd/client/client.gh.go#L28" target="_blank">create requests</a> and <code>CreatePetResponse.Parse()</code> will help <a href="https://github.com/ufukty/gohandlers-petstore/blob/280eff72d24d32f5d61b32361653de906cd639bd/client/client.gh.go#L40" target="_blank">deserializing responses</a> before returning to caller:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="nx">types</span><span class="p">.</span><span class="nx">PetName</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Tag</span>  <span class="nx">types</span><span class="p">.</span><span class="nx">PetTag</span>  <span class="s">`json:&#34;tag&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetResponse</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span> <span class="kt">string</span> <span class="s">`json:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Pets</span><span class="p">)</span> <span class="nf">CreatePet</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">bq</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">CreatePetRequest</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">bq</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">bq</span><span class="p">.</span><span class="nf">Validate</span><span class="p">();</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c1">// Handler logic
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">  <span class="nx">bs</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">CreatePetResponse</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">bs</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="nx">w</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
      </main>

    </div>
  </body>

</html>
