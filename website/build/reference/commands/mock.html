<!-- Do not edit. Auto-generated by Kask  -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><code>mock</code> - Gohandlers</title>

    
    <link rel="stylesheet" href="/propagate-155137bd-8795-44d5-af23-b41459967440.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_self">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/index.html">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>Articles</span>
  
  
  <li>

<ul>
  
  <span>Getting Started</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Goâ€”Effortlessly!</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Using Gohandlers</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">Understanding Binding Structs and Tags in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">Understanding Validation &amp; Custom Types in gohandlers</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  <li>

<ul>
  
  <span>Reference</span>
  
  
  <li>

<ul>
  
  <span>Advanced</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">Managing Complex APIs: Advanced Tag Usage in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">Error Handling &amp; Customization Patterns in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">Testing Your API with Generated Mock Clients in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">Generating Typed HTTP Clients with gohandlers</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Commands</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html"><code>bindings</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html"><code>client</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html"><code>list</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html"><code>mock</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html">validate</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html">yaml</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Core Concepts</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">metadata-driven</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Internals</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#mock" class="toc1"><code>mock</code></a>
                  
                  <ul>
                    
                    <li>
                      <a href="#why-mock" class="toc2">Why <code>mock</code>?</a>
                      
                    </li>
                    <li>
                      <a href="#usage" class="toc2">Usage</a>
                      
                    </li>
                    <li>
                      <a href="#example" class="toc2">Example</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <h1 id="mock"><code>mock</code></h1>

<p>Generates a Go file (default <code>mock.gh.go</code>) with two things:</p>

<ul>
<li>An <strong>interface</strong> that your <code>Client</code> implements (all the methods generated in <code>client</code>).</li>
<li>A <strong>mock client struct</strong> that also implements this interface, but allows you to customize behavior for testing.</li>
</ul>

<h2 id="why-mock">Why <code>mock</code>?</h2>

<p>When writing unit tests for your application, you might not want to make real HTTP calls. The mock client has stubbed methods (you can replace them) to simulate responses. This way, your service code can depend on an interface (abstract client) and in tests you inject the mock.</p>

<h2 id="usage">Usage</h2>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="c1"># gohandlers mock --help</span>
</span></span><span class="line"><span class="cl">Usage of mock:
</span></span><span class="line"><span class="cl">  -dir string
</span></span><span class="line"><span class="cl">        input directory
</span></span><span class="line"><span class="cl">  -import string
</span></span><span class="line"><span class="cl">        the import path of package declares binding types
</span></span><span class="line"><span class="cl">  -out string
</span></span><span class="line"><span class="cl">        output directory
</span></span><span class="line"><span class="cl">  -pkg string
</span></span><span class="line"><span class="cl">        package name <span class="k">for</span> the generated file
</span></span><span class="line"><span class="cl">  -v    prints additional information
</span></span></code></pre>
<h2 id="example">Example</h2>

<p>Running <code>gohandlers mock</code> similarly to <code>client</code>:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">gohandlers mock <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -dir handlers/pets <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -out client/mock.gh.go <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -pkg client <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  -import <span class="s2">&#34;github.com/yourusername/yourrepo/handlers/pets&#34;</span>
</span></span></code></pre>
<p>Generates a <a href="https://github.com/ufukty/gohandlers-petstore/blob/main/client/mock.gh.go" target="_blank"><code>client/mock.gh.go</code></a> with content like:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Interface</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nf">CreatePet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">CreatePetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">CreatePetResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">DeletePet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">DeletePetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">GetPet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">GetPetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">GetPetResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nf">ListPets</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">ListPetsRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">ListPetsResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Mock</span> <span class="kd">struct</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Mock</span><span class="p">)</span> <span class="nf">CreatePet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">CreatePetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">CreatePetResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Mock</span><span class="p">)</span> <span class="nf">DeletePet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">DeletePetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Response</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Mock</span><span class="p">)</span> <span class="nf">GetPet</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">GetPetRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">GetPetResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">m</span> <span class="o">*</span><span class="nx">Mock</span><span class="p">)</span> <span class="nf">ListPets</span><span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">ListPetsRequest</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">pets</span><span class="p">.</span><span class="nx">ListPetsResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span><span class="p">,</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span></code></pre>
      </main>

    </div>
  </body>

</html>
