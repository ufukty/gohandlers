<!-- Do not edit. Auto-generated by Kask  -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><code>list</code> - Gohandlers</title>

    
    <link rel="stylesheet" href="/propagate-155137bd-8795-44d5-af23-b41459967440.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_self">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/index.html">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>Articles</span>
  
  
  <li>

<ul>
  
  <span>Getting Started</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Go—Effortlessly!</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Using Gohandlers</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">Understanding Binding Structs and Tags in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">Understanding Validation &amp; Custom Types in gohandlers</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  <li>

<ul>
  
  <span>Reference</span>
  
  
  <li>

<ul>
  
  <span>Advanced</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">Managing Complex APIs: Advanced Tag Usage in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">Error Handling &amp; Customization Patterns in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">Testing Your API with Generated Mock Clients in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">Generating Typed HTTP Clients with gohandlers</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Commands</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html"><code>bindings</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html"><code>client</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html"><code>list</code></a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html">mock</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html">validate</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html">yaml</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Core Concepts</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">metadata-driven</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Internals</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#list" class="toc1"><code>list</code></a>
                  
                  <ul>
                    
                    <li>
                      <a href="#what-it-solves" class="toc2">What it solves?</a>
                      
                    </li>
                    <li>
                      <a href="#usage" class="toc2">Usage</a>
                      
                    </li>
                    <li>
                      <a href="#example" class="toc2">Example</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <h1 id="list"><code>list</code></h1>

<p>Generates a Go file (default <code>list.gh.go</code>) with a function or methods to <strong>list all handlers and their metadata</strong> (like method and path). This is extremely useful to automatically register your handlers with a router (e.g., <code>http.ServeMux</code> or any router library) without manually writing each route.</p>

<p>What it generates:</p>

<ul>
<li><strong>Global <code>ListHandlers</code> function:</strong> If you have any free functions (not methods) that serve as handlers, it generates:</li>
</ul>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">  <span class="kd">func</span> <span class="nf">ListHandlers</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span></code></pre>
<p>where <code>HandlerInfo</code> is a struct containing at least <code>Method</code>, <code>Path</code>, and <code>Ref</code> (the handler function). The map key is usually a unique name for the handler (like <code>&quot;CreatePet&quot;</code>).</p>

<ul>
<li><strong><code>ListHandlers</code> methods on receiver types:</strong> If you have handlers defined as methods on structs (e.g., <code>func (p *Pets) CreatePet(...)</code>), it will generate a <code>ListHandlers()</code> method for each such receiver type:</li>
</ul>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">  <span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">Pets</span><span class="p">)</span> <span class="nf">ListHandlers</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span></code></pre>
<p>This map will include entries for all handlers that have receiver <code>*Pets</code>.</p>

<ul>
<li><p>These functions gather <strong>method and path</strong> from the handlers (using gohandlers’ knowledge of HTTP method and path assignments, see below) and the handler function itself.</p></li>

<li><p><strong>Custom HandlerInfo:</strong> By default, gohandlers defines its own <code>HandlerInfo</code> in each generated file. However, if you want to use a shared type (perhaps your project defines a global route struct), you can provide <code>-hi-import &quot;myapp/router&quot;</code> and <code>-hi-type &quot;HandlerInfo&quot;</code> flags. Then gohandlers will import your package and use <code>myapp/router.HandlerInfo</code> instead in the return type. This can simplify integrating with your router setup.</p></li>
</ul>

<h2 id="what-it-solves">What it solves?</h2>

<p>In a growing API, it’s easy to forget to register a handler or to mismatch the route path. With <code>ListHandlers</code>, you ensure every handler is accounted for. For example:</p>

<h2 id="usage">Usage</h2>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="c1"># gohandlers list --help</span>
</span></span><span class="line"><span class="cl">Usage of list:
</span></span><span class="line"><span class="cl">  -dir string
</span></span><span class="line"><span class="cl">        the directory contains Go files. one handler and a request binding <span class="nb">type</span> is allowed per file
</span></span><span class="line"><span class="cl">  -hi-import string
</span></span><span class="line"><span class="cl">        the package to import <span class="k">for</span> custom implementation of HandlerInfo
</span></span><span class="line"><span class="cl">  -hi-type string
</span></span><span class="line"><span class="cl">        the string to be substituted with mentions of HandlerInfo
</span></span><span class="line"><span class="cl">  -out string
</span></span><span class="line"><span class="cl">        output file that will be generated in the <span class="s1">&#39;dir&#39;</span> <span class="o">(</span>default <span class="s2">&#34;list.gh.go&#34;</span><span class="o">)</span>
</span></span><span class="line"><span class="cl">  -v    prints additional information
</span></span></code></pre>
<h2 id="example">Example</h2>

<p>If <a href="https://github.com/ufukty/gohandlers-petstore/tree/main/handlers/pets" target="_blank"><code>handlers/pets</code></a> directory has handlers on <code>*Pets</code> receiver, after running:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">gohandlers list -dir handlers/pets -out list.gh.go
</span></span></code></pre>
<p>You <a href="https://github.com/ufukty/gohandlers-petstore/blob/main/handlers/pets/list.gh.go" target="_blank">get</a> something like:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">HandlerInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Method</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Path</span>   <span class="kt">string</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Ref</span>    <span class="nx">http</span><span class="p">.</span><span class="nx">HandlerFunc</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">pe</span> <span class="o">*</span><span class="nx">Pets</span><span class="p">)</span> <span class="nf">ListHandlers</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;CreatePet&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;POST&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/create-pet&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">pe</span><span class="p">.</span><span class="nx">CreatePet</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;DeletePet&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;DELETE&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/pets/{id}&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">pe</span><span class="p">.</span><span class="nx">DeletePet</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;GetPet&#34;</span><span class="p">:</span>    <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;GET&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/pets/{id}&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">pe</span><span class="p">.</span><span class="nx">GetPet</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;ListPets&#34;</span><span class="p">:</span>  <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;GET&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/pets&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">pe</span><span class="p">.</span><span class="nx">ListPets</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p><em>(Here <code>HandlerInfo</code> is a type provided by gohandlers by default. It has <code>Method, Path, Ref</code> fields as shown.)</em></p>

<p>To register these with a router, you could do:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">pets</span> <span class="o">:=</span> <span class="nx">pets</span><span class="p">.</span><span class="nf">New</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="nx">s</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">NewServeMux</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">  <span class="k">for</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">handler</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">pets</span><span class="p">.</span><span class="nf">ListHandlers</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">pattern</span> <span class="o">:=</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="s">&#34;%s %s&#34;</span><span class="p">,</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">Method</span><span class="p">,</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">Path</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;registering&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">,</span> <span class="s">&#34;as&#34;</span><span class="p">,</span> <span class="nx">pattern</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">s</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="nx">pattern</span><span class="p">,</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">Ref</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>This loops through the map and registers each handler with its path and method. If you’re using the standard <code>http.ServeMux</code>, it doesn’t support methods directly, but you can still use the path and attach the handler (method filtering would be inside handlers or by using another router library).</p>

      </main>

    </div>
  </body>

</html>
