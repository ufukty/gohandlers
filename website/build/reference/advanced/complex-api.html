<!-- Do not edit. Auto-generated by Kask v0.4.0 -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Managing Complex APIs: Advanced Tag Usage in gohandlers - Gohandlers</title>

    
    <link rel="stylesheet" href="/styles.propagate.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_blank">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/.">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>articles</span>
  
  
  <li>

<ul>
  
  <span>getting-started</span>
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Go‚ÄîEffortlessly!</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>using-gohandlers</span>
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">Understanding Binding Structs and Tags in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">Understanding Validation &amp; Custom Types in gohandlers</a>
  
  
</ul>

</li>
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>reference</span>
  
  
  <li>

<ul>
  
  <span>advanced</span>
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">Managing Complex APIs: Advanced Tag Usage in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">Error Handling &amp; Customization Patterns in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">Testing Your API with Generated Mock Clients in gohandlers</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">Generating Typed HTTP Clients with gohandlers</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>commands</span>
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html"><code>bindings</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html"><code>client</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html"><code>list</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html"><code>mock</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html"><code>validate</code></a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html"><code>yaml</code></a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>core-concepts</span>
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">Metadata-Driven Routing &amp; Automatic Handler Registration</a>
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">Core Concepts: Overview</a>
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>internals</span>
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">Internals: Overview</a>
  
  
</ul>

</li>
</ul>

</li>
</ul>

</li>
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#managing-complex-apis-advanced-tag-usage-in-gohandlers" class="toc1">Managing Complex APIs: Advanced Tag Usage in gohandlers</a>
                  
                  <ul>
                    
                    <li>
                      <a href="#quick-refresher-standard-tags" class="toc2">üè∑ Quick Refresher: Standard Tags</a>
                      
                    </li>
                    <li>
                      <a href="#handling-optional-query-parameters" class="toc2">üö¶ Handling Optional Query Parameters</a>
                      
                      <ul>
                        
                        <li>
                          <a href="#recommended-pattern" class="toc3">Recommended pattern:</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="#deeply-nested-json-structures" class="toc2">üå≥ Deeply Nested JSON Structures</a>
                      
                    </li>
                    <li>
                      <a href="#arrays-collections-in-query-parameters" class="toc2">üåÄ Arrays &amp; Collections in Query Parameters</a>
                      
                    </li>
                    <li>
                      <a href="#custom-tag-parsing-with-domain-specific-types" class="toc2">üîç Custom Tag Parsing with Domain-Specific Types</a>
                      
                    </li>
                    <li>
                      <a href="#conditional-cross-field-validation" class="toc2">üöß Conditional &amp; Cross-Field Validation</a>
                      
                    </li>
                    <li>
                      <a href="#dynamic-complex-route-patterns" class="toc2">üó∫Ô∏è Dynamic &amp; Complex Route Patterns</a>
                      
                    </li>
                    <li>
                      <a href="#handling-form-encoded-data" class="toc2">üö© Handling Form-Encoded Data</a>
                      
                    </li>
                    <li>
                      <a href="#mixing-data-sources-gracefully" class="toc2">üìå Mixing Data Sources Gracefully</a>
                      
                    </li>
                    <li>
                      <a href="#tagging-fields-for-explicit-clarity" class="toc2">üåê Tagging Fields for Explicit Clarity</a>
                      
                    </li>
                    <li>
                      <a href="#advanced-troubleshooting-tag-conflicts-priorities" class="toc2">üö® Advanced Troubleshooting: Tag Conflicts &amp; Priorities</a>
                      
                    </li>
                    <li>
                      <a href="#summary-best-practices-for-complex-tagging" class="toc2">üéØ Summary: Best Practices for Complex Tagging</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <blockquote>
<p><strong>PREVIEW</strong></p>

<p>Some of the functionality in this post are in consideration and is not currently under development.</p>
</blockquote>

<h1 id="managing-complex-apis-advanced-tag-usage-in-gohandlers">Managing Complex APIs: Advanced Tag Usage in gohandlers</h1>

<p><strong>gohandlers</strong> greatly simplifies building Go APIs by generating boilerplate code based on simple struct tags. For basic endpoints, the default tags (<code>route</code>, <code>query</code>, <code>json</code>) cover most cases effortlessly. But as your API grows more sophisticated, you&rsquo;ll need to manage complex scenarios like deeply nested JSON, optional query parameters, conditional validation, or dynamic routes.</p>

<p>This article guides you through powerful techniques and advanced tag usage to elegantly handle these more intricate API requirements.</p>

<h2 id="quick-refresher-standard-tags">üè∑ Quick Refresher: Standard Tags</h2>

<p>Before we dive into advanced usage, let&rsquo;s briefly revisit the basic tags:</p>

<ul>
<li><strong><code>route</code></strong>: Pulls data from URL path parameters.</li>
<li><strong><code>query</code></strong>: Extracts values from URL query strings.</li>
<li><strong><code>json</code></strong>: Serializes/deserializes JSON payloads.</li>
<li><strong><code>form</code></strong>: Handles form-encoded data (<code>application/x-www-form-urlencoded</code>).</li>
</ul>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">UpdateUserRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span>    <span class="kt">string</span> <span class="s">`route:&#34;userId&#34;`</span>    <span class="c1">// /users/{userId}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Name</span>  <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Email</span> <span class="kt">string</span> <span class="s">`json:&#34;email&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>These tags handle the majority of common use cases clearly and efficiently. Now, let&rsquo;s explore advanced usage scenarios.</p>

<h2 id="handling-optional-query-parameters">üö¶ Handling Optional Query Parameters</h2>

<p>In more complex APIs, you might have optional query parameters that require custom handling.</p>

<p><strong>Solution:</strong> Use pointers or custom types to indicate optional parameters.</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ListPetsRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Limit</span>  <span class="o">*</span><span class="kt">int</span>    <span class="s">`query:&#34;limit&#34;`</span>  <span class="c1">// optional parameter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">SortBy</span> <span class="o">*</span><span class="kt">string</span> <span class="s">`query:&#34;sortBy&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<ul>
<li>If the query param is omitted, the field remains <code>nil</code>.</li>
<li>You can provide default values in your handler logic or via custom validation methods.</li>
</ul>

<h3 id="recommended-pattern">Recommended pattern:</h3>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">req</span> <span class="o">*</span><span class="nx">ListPetsRequest</span><span class="p">)</span> <span class="nf">Validate</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">errs</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">error</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">req</span><span class="p">.</span><span class="nx">Limit</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">defaultLimit</span> <span class="o">:=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">    <span class="nx">req</span><span class="p">.</span><span class="nx">Limit</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">defaultLimit</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="o">*</span><span class="nx">req</span><span class="p">.</span><span class="nx">Limit</span> <span class="o">&lt;=</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">errs</span><span class="p">[</span><span class="s">&#34;limit&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;limit must be greater than zero&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">errs</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<h2 id="deeply-nested-json-structures">üå≥ Deeply Nested JSON Structures</h2>

<p>Complex APIs frequently use nested structures. gohandlers supports nested JSON structs seamlessly:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreateOrderRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">CustomerInfo</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Name</span>  <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Email</span> <span class="kt">string</span> <span class="s">`json:&#34;email&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="s">`json:&#34;customerInfo&#34;`</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">Items</span> <span class="p">[]</span><span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ProductID</span> <span class="kt">string</span> <span class="s">`json:&#34;productId&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Quantity</span>  <span class="kt">int</span>    <span class="s">`json:&#34;quantity&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="s">`json:&#34;items&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers automatically generates correct parsing and serialization logic for deeply nested structures without any extra effort from you.</p>

<h2 id="arrays-collections-in-query-parameters">üåÄ Arrays &amp; Collections in Query Parameters</h2>

<p>Sometimes, APIs use arrays or multiple query params:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl">GET /pets?tag=cat&amp;tag=dog&amp;tag=hamster
</span></span></code></pre>
<p><strong>Solution:</strong> Use slices in your struct.</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ListPetsByTagsRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Tags</span> <span class="p">[]</span><span class="kt">string</span> <span class="s">`query:&#34;tag&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers automatically captures multiple values and populates your slice correctly.</p>

<h2 id="custom-tag-parsing-with-domain-specific-types">üîç Custom Tag Parsing with Domain-Specific Types</h2>

<p>For custom parsing logic, define your own domain-specific types with custom parsing methods.</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">PetID</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">p</span> <span class="o">*</span><span class="nx">PetID</span><span class="p">)</span> <span class="nf">FromRoute</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">8</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;PetID must be exactly 8 characters&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">*</span><span class="nx">p</span> <span class="p">=</span> <span class="nf">PetID</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetPetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span> <span class="nx">PetID</span> <span class="s">`route:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers recognizes these interfaces:</p>

<ul>
<li><code>FromRoute(string) error</code></li>
<li><code>FromQuery(string) error</code></li>
</ul>

<p>and automatically invokes your parsing logic, enabling precise validation.</p>

<h2 id="conditional-cross-field-validation">üöß Conditional &amp; Cross-Field Validation</h2>

<p>Advanced APIs often require validation rules that span multiple fields.</p>

<p><strong>Best Practice:</strong> Define a custom <code>Validate()</code> method for your request struct.</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreateEventRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">StartTime</span> <span class="kt">string</span> <span class="s">`json:&#34;startTime&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">EndTime</span>   <span class="kt">string</span> <span class="s">`json:&#34;endTime&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">req</span> <span class="o">*</span><span class="nx">CreateEventRequest</span><span class="p">)</span> <span class="nf">Validate</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">errs</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">error</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">start</span><span class="p">,</span> <span class="nx">err1</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">StartTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="nx">end</span><span class="p">,</span> <span class="nx">err2</span> <span class="o">:=</span> <span class="nx">time</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nx">RFC3339</span><span class="p">,</span> <span class="nx">req</span><span class="p">.</span><span class="nx">EndTime</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err1</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">errs</span><span class="p">[</span><span class="s">&#34;startTime&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;invalid startTime format&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err2</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">errs</span><span class="p">[</span><span class="s">&#34;endTime&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;invalid endTime format&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err1</span> <span class="o">==</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="nx">err2</span> <span class="o">==</span> <span class="kc">nil</span> <span class="o">&amp;&amp;</span> <span class="p">!</span><span class="nx">start</span><span class="p">.</span><span class="nf">Before</span><span class="p">(</span><span class="nx">end</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">errs</span><span class="p">[</span><span class="s">&#34;endTime&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;endTime must be after startTime&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nx">errs</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>This ensures robust, clear, and maintainable validation logic even for complex rules.</p>

<h2 id="dynamic-complex-route-patterns">üó∫Ô∏è Dynamic &amp; Complex Route Patterns</h2>

<p>For dynamic routes, you may have multiple route parameters. gohandlers handles these gracefully:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="c1">// Endpoint: /users/{userId}/pets/{petId}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">UpdateUserPetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UserID</span> <span class="kt">string</span> <span class="s">`route:&#34;userId&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">PetID</span>  <span class="kt">string</span> <span class="s">`route:&#34;petId&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span>   <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>All parameters specified in the path automatically map directly into your struct fields.</p>

<h2 id="handling-form-encoded-data">üö© Handling Form-Encoded Data</h2>

<p>For APIs accepting form data (<code>application/x-www-form-urlencoded</code>):</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">LoginRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Username</span> <span class="kt">string</span> <span class="s">`form:&#34;username&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Password</span> <span class="kt">string</span> <span class="s">`form:&#34;password&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers auto-generates correct logic to parse and handle form data efficiently.</p>

<h2 id="mixing-data-sources-gracefully">üìå Mixing Data Sources Gracefully</h2>

<p>You might combine multiple data sources (route, query, json, form):</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ComplexSearchRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UserID</span> <span class="kt">string</span>   <span class="s">`route:&#34;userId&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Tags</span>   <span class="p">[]</span><span class="kt">string</span> <span class="s">`query:&#34;tag&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Filters</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Status</span> <span class="kt">string</span> <span class="s">`json:&#34;status&#34;`</span>
</span></span><span class="line"><span class="cl">    <span class="nx">Limit</span>  <span class="kt">int</span>    <span class="s">`json:&#34;limit&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span> <span class="s">`json:&#34;filters&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers seamlessly handles multiple simultaneous sources, keeping your code clean and declarative.</p>

<h2 id="tagging-fields-for-explicit-clarity">üåê Tagging Fields for Explicit Clarity</h2>

<p>Sometimes, making your tags explicit improves readability and clarity:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ExplicitExample</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span>        <span class="kt">string</span> <span class="s">`json:&#34;id,omitempty&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">IsVisible</span> <span class="kt">bool</span>   <span class="s">`json:&#34;isVisible&#34; query:&#34;visible&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>Here, <code>IsVisible</code> can be populated either from a JSON body or from a query param, depending on context. Explicit tagging clearly documents your intentions.</p>

<h2 id="advanced-troubleshooting-tag-conflicts-priorities">üö® Advanced Troubleshooting: Tag Conflicts &amp; Priorities</h2>

<p>In rare cases, you may encounter tag conflicts (e.g., both <code>json</code> and <code>form</code> tags on the same field). gohandlers resolves these based on context:</p>

<ul>
<li><strong>Request Parsing:</strong> Prioritizes <code>route</code> &gt; <code>query</code> &gt; <code>form</code> &gt; <code>json</code>.</li>
<li><strong>Response Serialization:</strong> Primarily uses <code>json</code>.</li>
</ul>

<p>Avoid ambiguous tagging by clearly defining fields according to their primary source or target.</p>

<h2 id="summary-best-practices-for-complex-tagging">üéØ Summary: Best Practices for Complex Tagging</h2>

<ul>
<li>Use <strong>pointer fields</strong> to represent optional parameters.</li>
<li>Embrace <strong>custom types</strong> for precise validation logic.</li>
<li>Prefer clear, simple tag definitions‚Äîavoid ambiguity.</li>
<li>Use custom <code>Validate()</code> methods to handle advanced validation logic.</li>
<li>Leverage gohandlers&rsquo; automatic support for nested structures and arrays.</li>
</ul>

<p>By mastering advanced tag usage, gohandlers lets you manage complexity gracefully and keeps your API maintainable, clear, and robust as your project evolves.</p>

<p>Happy API-building! üåü</p>

      </main>

    </div>
  </body>

</html>
