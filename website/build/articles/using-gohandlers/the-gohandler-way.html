<!-- Do not edit. Auto-generated by Kask  -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The gohandlers Way of Writing HTTP Handlers in Go - Gohandlers</title>

    
    <link rel="stylesheet" href="/propagate-f8ef0972-e352-4ecb-95fd-888369bde53a.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_blank">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/index.html">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>Articles</span>
  
  
  <li>

<ul>
  
  <span>Getting Started</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Go—Effortlessly!</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Using Gohandlers</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">understanding-binding-structs-and-tags</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">understanding-validation-and-custom-types</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  <li>

<ul>
  
  <span>Reference</span>
  
  
  <li>

<ul>
  
  <span>Advanced</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">complex-api</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">error-handling</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">testing-clients</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">typed-clients</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Commands</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html">bindings</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html">client</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html">list</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html">mock</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html">validate</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html">yaml</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Core Concepts</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">metadata-driven</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Internals</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#the-gohandlers-way-of-writing-http-handlers-in-go" class="toc1">The gohandlers Way of Writing HTTP Handlers in Go</a>
                  
                  <ul>
                    
                    <li>
                      <a href="#embrace-a-struct-driven-approach" class="toc2">Embrace a Struct-Driven Approach</a>
                      
                    </li>
                    <li>
                      <a href="#consistent-handler-signature" class="toc2">Consistent Handler Signature</a>
                      
                    </li>
                    <li>
                      <a href="#leverage-automatic-code-generation" class="toc2">Leverage Automatic Code Generation</a>
                      
                      <ul>
                        
                        <li>
                          <a href="#automatic-binding-generation" class="toc3">Automatic Binding Generation</a>
                        </li>
                        <li>
                          <a href="#validation-generation" class="toc3">Validation Generation</a>
                        </li>
                        <li>
                          <a href="#handler-listing" class="toc3">Handler Listing</a>
                        </li>
                        <li>
                          <a href="#client-mock-generation" class="toc3">Client &amp; Mock Generation</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="#domain-logic-stays-in-custom-types" class="toc2">Domain Logic Stays in Custom Types</a>
                      
                    </li>
                    <li>
                      <a href="#simplified-handler-registration" class="toc2">Simplified Handler Registration</a>
                      
                    </li>
                    <li>
                      <a href="#testing-made-easy" class="toc2">Testing Made Easy</a>
                      
                    </li>
                    <li>
                      <a href="#why-adopt-the-gohandlers-approach" class="toc2">Why Adopt the gohandlers Approach?</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <h1 id="the-gohandlers-way-of-writing-http-handlers-in-go">The gohandlers Way of Writing HTTP Handlers in Go</h1>

<p>Writing HTTP handlers in Go is straightforward—but repetitive boilerplate often creeps into your codebase. <strong>gohandlers</strong> simplifies this significantly by providing a consistent, maintainable approach to handler creation and management.</p>

<p>This article guides you through the core philosophy and practical approach of structuring HTTP handlers, &ldquo;the gohandlers way.&rdquo;</p>

<h2 id="embrace-a-struct-driven-approach">Embrace a Struct-Driven Approach</h2>

<p>In gohandlers, your HTTP endpoints are modeled using clearly defined request and response structs. This creates a direct mapping between your Go types and your API’s interface.</p>

<p><strong>Example Request and Response:</strong></p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetUserRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UserID</span> <span class="kt">string</span> <span class="s">`route:&#34;userId&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetUserResponse</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">User</span> <span class="nx">dto</span><span class="p">.</span><span class="nx">User</span> <span class="s">`json:&#34;user&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<ul>
<li>Struct names clearly communicate their role (<code>…Request</code>, <code>…Response</code>).</li>
<li>Struct tags (<code>route</code>, <code>query</code>, <code>json</code>) directly express how HTTP data maps to Go fields.</li>
</ul>

<h2 id="consistent-handler-signature">Consistent Handler Signature</h2>

<p>With gohandlers, each handler follows the same predictable flow:</p>

<ol>
<li><strong>Parsing</strong> – Transform the incoming HTTP request into a structured Go request.</li>
<li><strong>Validation</strong> – Ensure input correctness through clearly defined validation methods.</li>
<li><strong>Business Logic</strong> – Handle domain logic or database interactions.</li>
<li><strong>Responding</strong> – Write structured responses back into HTTP responses.</li>
</ol>

<p><strong>Example Handler Implementation:</strong></p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="o">*</span><span class="nx">Users</span><span class="p">)</span> <span class="nf">GetUser</span><span class="p">(</span><span class="nx">w</span> <span class="nx">http</span><span class="p">.</span><span class="nx">ResponseWriter</span><span class="p">,</span> <span class="nx">r</span> <span class="o">*</span><span class="nx">http</span><span class="p">.</span><span class="nx">Request</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">req</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">GetUserRequest</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">req</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="nx">r</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="nx">err</span><span class="p">.</span><span class="nf">Error</span><span class="p">(),</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusBadRequest</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">errs</span> <span class="o">:=</span> <span class="nx">req</span><span class="p">.</span><span class="nf">Validate</span><span class="p">();</span> <span class="nb">len</span><span class="p">(</span><span class="nx">errs</span><span class="p">)</span> <span class="p">&gt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">w</span><span class="p">.</span><span class="nf">WriteHeader</span><span class="p">(</span><span class="nx">http</span><span class="p">.</span><span class="nx">StatusUnprocessableEntity</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">json</span><span class="p">.</span><span class="nf">NewEncoder</span><span class="p">(</span><span class="nx">w</span><span class="p">).</span><span class="nf">Encode</span><span class="p">(</span><span class="nx">errs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">user</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">u</span><span class="p">.</span><span class="nx">db</span><span class="p">.</span><span class="nf">GetUser</span><span class="p">(</span><span class="nx">req</span><span class="p">.</span><span class="nx">UserID</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;Internal Server Error&#34;</span><span class="p">,</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusInternalServerError</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="nx">resp</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">GetUserResponse</span><span class="p">{</span><span class="nx">User</span><span class="p">:</span> <span class="nx">user</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">resp</span><span class="p">.</span><span class="nf">Write</span><span class="p">(</span><span class="nx">w</span><span class="p">);</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">http</span><span class="p">.</span><span class="nf">Error</span><span class="p">(</span><span class="nx">w</span><span class="p">,</span> <span class="s">&#34;Response Error&#34;</span><span class="p">,</span> <span class="nx">http</span><span class="p">.</span><span class="nx">StatusInternalServerError</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>Each handler is clear, consistent, and readable—helping teams onboard new developers and easily maintain code.</p>

<h2 id="leverage-automatic-code-generation">Leverage Automatic Code Generation</h2>

<p>The power of gohandlers comes from its automated code generation. It transforms your simple request and response definitions into fully-fledged parsing, validation, and serialization logic, eliminating boilerplate.</p>

<h3 id="automatic-binding-generation">Automatic Binding Generation</h3>

<ul>
<li>Transforms your request structs into methods that parse HTTP requests (<code>Parse</code>) and build HTTP responses (<code>Write</code>).</li>
</ul>

<h3 id="validation-generation">Validation Generation</h3>

<ul>
<li>Automatically produces <code>Validate()</code> methods that aggregate errors at the field-level.</li>
</ul>

<h3 id="handler-listing">Handler Listing</h3>

<ul>
<li>Generates a metadata-driven registry (<code>ListHandlers</code>) for seamless endpoint registration and documentation.</li>
</ul>

<h3 id="client-mock-generation">Client &amp; Mock Generation</h3>

<ul>
<li>Provides strongly typed clients for interacting with your API.</li>
<li>Creates mocks for effortless testing.</li>
</ul>

<h2 id="domain-logic-stays-in-custom-types">Domain Logic Stays in Custom Types</h2>

<p>Your business logic stays in custom types, completely separate from generated code. Define your own domain-specific validations and parsing methods:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Email</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">Email</span><span class="p">)</span> <span class="nf">Validate</span><span class="p">()</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">!</span><span class="nx">strings</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="nb">string</span><span class="p">(</span><span class="o">*</span><span class="nx">e</span><span class="p">),</span> <span class="s">&#34;@&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;invalid email address&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>This allows gohandlers to remain focused purely on generating HTTP-related boilerplate, while your custom types encapsulate domain rules clearly.</p>

<h2 id="simplified-handler-registration">Simplified Handler Registration</h2>

<p>Gone are the days of manually registering each handler. gohandlers generates a single method to register all handlers automatically:</p>

<p><strong>Example Generated ListHandlers:</strong></p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">u</span> <span class="o">*</span><span class="nx">Users</span><span class="p">)</span> <span class="nf">ListHandlers</span><span class="p">()</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="nx">HandlerInfo</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;GetUser&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;GET&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/users/{userId}&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">u</span><span class="p">.</span><span class="nx">GetUser</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;CreateUser&#34;</span><span class="p">:</span> <span class="p">{</span><span class="nx">Method</span><span class="p">:</span> <span class="s">&#34;POST&#34;</span><span class="p">,</span> <span class="nx">Path</span><span class="p">:</span> <span class="s">&#34;/users&#34;</span><span class="p">,</span> <span class="nx">Ref</span><span class="p">:</span> <span class="nx">u</span><span class="p">.</span><span class="nx">CreateUser</span><span class="p">},</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>This method can then be easily integrated into your router setup:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="nx">mux</span> <span class="o">:=</span> <span class="nx">http</span><span class="p">.</span><span class="nf">NewServeMux</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">h</span> <span class="o">:=</span> <span class="k">range</span> <span class="nf">NewUsersHandler</span><span class="p">(</span><span class="nx">db</span><span class="p">).</span><span class="nf">ListHandlers</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">mux</span><span class="p">.</span><span class="nf">HandleFunc</span><span class="p">(</span><span class="nx">h</span><span class="p">.</span><span class="nx">Path</span><span class="p">,</span> <span class="nx">h</span><span class="p">.</span><span class="nx">Ref</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">http</span><span class="p">.</span><span class="nf">ListenAndServe</span><span class="p">(</span><span class="s">&#34;:8080&#34;</span><span class="p">,</span> <span class="nx">mux</span><span class="p">)</span>
</span></span></code></pre>
<p>This approach guarantees synchronization between your route definitions and actual handler implementations.</p>

<h2 id="testing-made-easy">Testing Made Easy</h2>

<p>With generated mock clients, testing your handlers and business logic becomes straightforward:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="nx">mock</span> <span class="o">:=</span> <span class="o">&amp;</span><span class="nx">MockClient</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl"><span class="nx">mock</span><span class="p">.</span><span class="nx">GetUserFunc</span> <span class="p">=</span> <span class="kd">func</span><span class="p">(</span><span class="nx">ctx</span> <span class="nx">context</span><span class="p">.</span><span class="nx">Context</span><span class="p">,</span> <span class="nx">id</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="o">*</span><span class="nx">GetUserResponse</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="o">&amp;</span><span class="nx">GetUserResponse</span><span class="p">{</span><span class="nx">User</span><span class="p">:</span> <span class="nx">UserDTO</span><span class="p">{</span><span class="nx">ID</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">Name</span><span class="p">:</span> <span class="s">&#34;Test User&#34;</span><span class="p">}},</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>Inject these mocks into your unit tests for predictable, reliable, and isolated testing scenarios.</p>

<h2 id="why-adopt-the-gohandlers-approach">Why Adopt the gohandlers Approach?</h2>

<ul>
<li><strong>Consistency:</strong> Every handler shares the same clear structure.</li>
<li><strong>Reduced Boilerplate:</strong> Automated generation removes tedious, repetitive code.</li>
<li><strong>Clear Separation:</strong> Business logic remains separated from HTTP-handling concerns.</li>
<li><strong>Maintainability:</strong> Struct-driven definitions and generated handlers simplify ongoing maintenance and evolution.</li>
</ul>

<p>By embracing these principles, gohandlers helps your team build maintainable, scalable, and reliable HTTP APIs—letting you focus more on your application’s core logic, and less on boilerplate HTTP code.</p>

      </main>

    </div>
  </body>

</html>
