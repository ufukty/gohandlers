<!-- Do not edit. Auto-generated by Kask  -->

<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Understanding Binding Structs and Tags in gohandlers - Gohandlers</title>

    
    <link rel="stylesheet" href="/propagate-f8ef0972-e352-4ecb-95fd-888369bde53a.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  </head>

  <body>

    <div class="site-wide-note">Machine generated documentation. <a href="https://github.com/ufukty/gohandlers/issues" target="_blank">Contribute</a> to improve quality together.</div>

    <div id="markdown-page-column-layout">

      <header>
        <nav id="sitemap">
          <details open>
            <summary>Site map</summary>
            <div class="summarized">
              

<ul>
  
  <a href="/index.html">gohandlers</a>
  
  
  <li>

<ul>
  
  <span>Articles</span>
  
  
  <li>

<ul>
  
  <span>Getting Started</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/getting-started/getting-started.html">Getting Started with gohandlers: Build HTTP APIs in Go‚ÄîEffortlessly!</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/getting-started/overview.html">Overview: What Problem Does gohandlers Solve?</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Using Gohandlers</span>
  
  
  
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/the-gohandler-way.html">The gohandlers Way of Writing HTTP Handlers in Go</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-binding-structs-and-tags.html">Understanding Binding Structs and Tags in gohandlers</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/articles/using-gohandlers/understanding-validation-and-custom-types.html">understanding-validation-and-custom-types</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  <li>

<ul>
  
  <span>Reference</span>
  
  
  <li>

<ul>
  
  <span>Advanced</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/advanced/complex-api.html">complex-api</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/error-handling.html">error-handling</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/testing-clients.html">testing-clients</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/advanced/typed-clients.html">typed-clients</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Commands</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/commands/bindings.html">bindings</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/client.html">client</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/list.html">list</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/mock.html">mock</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/validate.html">validate</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/commands/yaml.html">yaml</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Core Concepts</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/core-concepts/metadata-driven.html">metadata-driven</a>
  
  
  
</ul>

</li>
  <li>

<ul>
  
  <a href="/reference/core-concepts/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  <li>

<ul>
  
  <span>Internals</span>
  
  
  
  <li>

<ul>
  
  <a href="/reference/internals/overview.html">overview</a>
  
  
  
</ul>

</li>
</ul>

</li>
  
</ul>

</li>
  
</ul>


            </div>
          </details>
        </nav>

        
        <nav id="toc">
          <details open>
            <summary>In this page</summary>
            <div class="summarized">
              <ul>
                
                <li>
                  <a href="#understanding-binding-structs-and-tags-in-gohandlers" class="toc1">Understanding Binding Structs and Tags in gohandlers</a>
                  
                  <ul>
                    
                    <li>
                      <a href="#what-are-binding-structs" class="toc2">üì¶ What Are Binding Structs?</a>
                      
                    </li>
                    <li>
                      <a href="#field-tags-declaring-where-data-comes-from" class="toc2">üè∑ Field Tags: Declaring Where Data Comes From</a>
                      
                      <ul>
                        
                        <li>
                          <a href="#example-typical-api-request" class="toc3">Example: Typical API Request</a>
                        </li>
                      </ul>
                    </li>
                    <li>
                      <a href="#route-parameters-route" class="toc2">üö¶ Route Parameters (<code>route:&quot;...&quot;</code>)</a>
                      
                    </li>
                    <li>
                      <a href="#query-parameters-query" class="toc2">üß≠ Query Parameters (<code>query:&quot;...&quot;</code>)</a>
                      
                    </li>
                    <li>
                      <a href="#form-fields-form" class="toc2">üßæ Form Fields (<code>form:&quot;...&quot;</code>)</a>
                      
                    </li>
                    <li>
                      <a href="#json-fields-json" class="toc2">üß± JSON Fields (<code>json:&quot;...&quot;</code>)</a>
                      
                    </li>
                    <li>
                      <a href="#combining-tags" class="toc2">üé® Combining Tags</a>
                      
                    </li>
                    <li>
                      <a href="#custom-types-interfaces" class="toc2">üß† Custom Types &amp; Interfaces</a>
                      
                    </li>
                    <li>
                      <a href="#response-structs-output-tags" class="toc2">üß™ Response Structs &amp; Output Tags</a>
                      
                    </li>
                    <li>
                      <a href="#best-practices" class="toc2">‚úÖ Best Practices</a>
                      
                    </li>
                    <li>
                      <a href="#summary" class="toc2">üß≠ Summary</a>
                      
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </details>
        </nav>
      </header>

      <script>
        function onChange(eval, callback) {
          let last;
          return () => {
            let next = eval()
            if (last != next) {
              last = next
              callback()
            }
          }
        }
        function detailsElemStateAdjuster() {
          let elems = document.querySelectorAll("nav>details")
          let summaries = document.querySelectorAll("nav>details>summary")
          return () => {
            elems.forEach(e => {
              e.open = window.innerWidth >= 700
            })
            summaries.forEach(e => {
              e.style.display = window.innerWidth >= 700 ? "none" : "block"
              e.onclick = window.innerWidth >= 700 ? (e) => { e.preventDefault() } : undefined
            })
          }
        }
        let adjuster = detailsElemStateAdjuster()
        adjuster()
        window.addEventListener("resize", onChange(() => { return window.innerWidth >= 700 }, adjuster, 100))
      </script>

      <main class="markdown">
        <h1 id="understanding-binding-structs-and-tags-in-gohandlers">Understanding Binding Structs and Tags in gohandlers</h1>

<p>At the heart of <strong>gohandlers</strong> is a simple, powerful idea: your Go structs define your API.</p>

<p>Instead of writing verbose parsing logic, gohandlers inspects your <code>Request</code> and <code>Response</code> structs‚Äîusing their names, field types, and tags‚Äîto generate the boilerplate that turns raw HTTP requests into typed Go values, and back again.</p>

<p>In this article, you‚Äôll learn how to design effective binding structs, how tags map fields to HTTP inputs/outputs, and how to unlock gohandlers‚Äô full potential with clean, declarative type definitions.</p>

<h2 id="what-are-binding-structs">üì¶ What Are Binding Structs?</h2>

<p><strong>Binding structs</strong> are plain Go types that represent the structure of HTTP requests and responses in your application.</p>

<p>There are two main types:</p>

<ul>
<li><code>...Request</code> structs<br>
Used to bind data <strong>from</strong> HTTP requests into typed Go values.</li>
<li><code>...Response</code> structs<br>
Used to serialize Go values <strong>into</strong> HTTP responses.</li>
</ul>

<p>gohandlers looks for these by naming convention. If you define a handler named <code>CreatePet</code>, it expects:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetRequest</span> <span class="kd">struct</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetResponse</span> <span class="kd">struct</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
</span></span></code></pre>
<p>These two structs become the source of truth for generating:</p>

<ul>
<li>Parsing code for reading from <code>*http.Request</code></li>
<li>Validation helpers</li>
<li>Serialization code for writing to <code>http.ResponseWriter</code></li>
<li>Client methods and mock interfaces</li>
</ul>

<h2 id="field-tags-declaring-where-data-comes-from">üè∑ Field Tags: Declaring Where Data Comes From</h2>

<p>Tags tell gohandlers how to connect struct fields to HTTP components. Each field should include one of the following:</p>

<table>
<thead>
<tr>
<th>Tag</th>
<th>Used In</th>
<th>Purpose</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>route</code></td>
<td>Request structs</td>
<td>Maps to a path parameter in the URL</td>
</tr>

<tr>
<td><code>query</code></td>
<td>Request structs</td>
<td>Reads from URL query string</td>
</tr>

<tr>
<td><code>form</code></td>
<td>Request structs</td>
<td>Reads from form-encoded body</td>
</tr>

<tr>
<td><code>json</code></td>
<td>Request &amp; Response</td>
<td>Parses/serializes JSON body</td>
</tr>
</tbody>
</table>

<h3 id="example-typical-api-request">Example: Typical API Request</h3>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetPetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span> <span class="kt">string</span> <span class="s">`route:&#34;id&#34;`</span>           <span class="c1">// /pets/{id}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Name</span> <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>        <span class="c1">// JSON body
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Tag</span>  <span class="kt">string</span> <span class="s">`json:&#34;tag&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ListPetsRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Limit</span> <span class="kt">int</span> <span class="s">`query:&#34;limit&#34;`</span>        <span class="c1">// ?limit=10
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre>
<h2 id="route-parameters-route">üö¶ Route Parameters (<code>route:&quot;...&quot;</code>)</h2>

<p>For data in the URL path like <code>/users/{userId}</code>:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetUserRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">UserID</span> <span class="kt">string</span> <span class="s">`route:&#34;userId&#34;`</span> <span class="c1">// maps /users/{userId}
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre>
<p>The field name doesn‚Äôt have to match the tag‚Äîit just needs to match the placeholder in the URL path template.</p>

<p>gohandlers will replace or extract values from the URL automatically during parsing/building.</p>

<h2 id="query-parameters-query">üß≠ Query Parameters (<code>query:&quot;...&quot;</code>)</h2>

<p>Query parameters come from the URL‚Äôs <code>?key=value</code> section:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">ListOrdersRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Page</span>  <span class="kt">int</span>    <span class="s">`query:&#34;page&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Sort</span>  <span class="kt">string</span> <span class="s">`query:&#34;sort&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Limit</span> <span class="kt">int</span>    <span class="s">`query:&#34;limit&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers parses these values from <code>r.URL.Query()</code>, converting them to the correct types.</p>

<p>Use <code>[]string</code> or <code>[]int</code> to capture multiple values like <code>?tag=foo&amp;tag=bar</code>.</p>

<h2 id="form-fields-form">üßæ Form Fields (<code>form:&quot;...&quot;</code>)</h2>

<p>For APIs that accept <code>application/x-www-form-urlencoded</code> or form submissions:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">LoginRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Username</span> <span class="kt">string</span> <span class="s">`form:&#34;username&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Password</span> <span class="kt">string</span> <span class="s">`form:&#34;password&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers will automatically call <code>r.ParseForm()</code> and extract the fields accordingly.</p>

<h2 id="json-fields-json">üß± JSON Fields (<code>json:&quot;...&quot;</code>)</h2>

<p>Use <code>json</code> tags for both incoming request bodies and outgoing response payloads:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePostRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Title</span> <span class="kt">string</span> <span class="s">`json:&#34;title&#34;`</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Body</span>  <span class="kt">string</span> <span class="s">`json:&#34;body&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">CreatePostResponse</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">ID</span> <span class="kt">string</span> <span class="s">`json:&#34;id&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>JSON tags work just like in the standard <code>encoding/json</code> package‚Äîgohandlers uses those conventions directly for marshaling and unmarshaling.</p>

<h2 id="combining-tags">üé® Combining Tags</h2>

<p>Each field should have <strong>one primary source</strong>, but you can mix tags across fields:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">UpdatePetRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">PetID</span> <span class="kt">string</span> <span class="s">`route:&#34;petId&#34;`</span>   <span class="c1">// path param
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Name</span>  <span class="kt">string</span> <span class="s">`json:&#34;name&#34;`</span>     <span class="c1">// body param
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nx">Age</span>   <span class="kt">int</span>    <span class="s">`query:&#34;age&#34;`</span>     <span class="c1">// query param
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre>
<p>In this example:</p>

<ul>
<li><code>PetID</code> is extracted from the URL (<code>/pets/{petId}</code>)</li>
<li><code>Name</code> comes from the JSON body</li>
<li><code>Age</code> is parsed from <code>?age=3</code></li>
</ul>

<p>gohandlers will generate code to assemble the entire struct from these parts‚Äîno manual parsing required.</p>

<h2 id="custom-types-interfaces">üß† Custom Types &amp; Interfaces</h2>

<p>Want to validate or parse your fields with custom logic? Use your own types that implement:</p>

<ul>
<li><code>FromRoute(string) error</code></li>
<li><code>FromQuery(string) error</code></li>
<li><code>Validate() error</code></li>
</ul>

<p>Example:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Email</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="o">*</span><span class="nx">Email</span><span class="p">)</span> <span class="nf">FromQuery</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="p">!</span><span class="nx">strings</span><span class="p">.</span><span class="nf">Contains</span><span class="p">(</span><span class="nx">s</span><span class="p">,</span> <span class="s">&#34;@&#34;</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;invalid email&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="o">*</span><span class="nx">e</span> <span class="p">=</span> <span class="nf">Email</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">e</span> <span class="nx">Email</span><span class="p">)</span> <span class="nf">Validate</span><span class="p">()</span> <span class="kt">error</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">&lt;</span> <span class="mi">5</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;email too short&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">InviteRequest</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Email</span> <span class="nx">Email</span> <span class="s">`query:&#34;email&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>gohandlers will automatically detect these interfaces and call them in the generated <code>Parse</code> and <code>Validate</code> methods.</p>

<h2 id="response-structs-output-tags">üß™ Response Structs &amp; Output Tags</h2>

<p>Response structs work just like request structs, usually with JSON output:</p>
<pre tabindex="0" class="chroma"><code><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">GetPetResponse</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">Pet</span> <span class="nx">PetDTO</span> <span class="s">`json:&#34;pet&#34;`</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre>
<p>When you call <code>resp.Write(w)</code>, gohandlers serializes the response into JSON and sets the correct headers.</p>

<p>Form-encoded output is also supported (with <code>form</code> tags), but most APIs use JSON.</p>

<h2 id="best-practices">‚úÖ Best Practices</h2>

<ul>
<li>Use <strong>meaningful struct names</strong> ending in <code>Request</code> or <code>Response</code>.</li>
<li>Tag <strong>every field</strong> with its source (<code>route</code>, <code>query</code>, <code>json</code>, <code>form</code>).</li>
<li>Keep each field‚Äôs source unambiguous (don‚Äôt tag one field with multiple input types).</li>
<li>Use <strong>custom types</strong> to encapsulate validation logic and parsing.</li>
<li>Prefer <strong>pointers</strong> for optional values like <code>*int</code>, <code>*string</code>.</li>
</ul>

<h2 id="summary">üß≠ Summary</h2>

<p>Binding structs and their tags are the foundation of gohandlers. They let you describe your API contract clearly, declaratively, and type-safely‚Äîwithout any runtime reflection or handwritten parsing code.</p>

<p>With just a few tagged structs, gohandlers will generate:</p>

<ul>
<li>Request parsers</li>
<li>Response writers</li>
<li>Field validators</li>
<li>Typed clients</li>
<li>Mock implementations</li>
</ul>

<p>Your API becomes easier to maintain, safer to extend, and faster to develop.</p>

<p>Start with the tags‚Äîlet gohandlers handle the rest. üöÄ</p>

      </main>

    </div>
  </body>

</html>
